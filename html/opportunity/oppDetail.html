<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, minimum-scale=1, maximum-scale=1">
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="../../css/iuapmobile.um.css">
    <link rel="stylesheet" href="../../css/fonts/iconfont.css">
    <link rel="stylesheet" href="oppDetail.css">
    <script src="../../js/summer.js"></script>
    <script src="../../js/jquery.min.js"></script>
    <script src="../../js/Frameworks/iuapmobile.frameworks.ui.js"></script>
    <script src="../../js/font.js"></script>
    <script src="../../js/vue.js"></script>
    <script src="../../js/common.js"></script>
</head>

<body>
    <div class="um-win" id="index">
        <ul class="infoList">
            <li class="first">
                <strong></strong>
                <i>{{datas.oppName}}</i>
            </li>
            <li>
                <span>预计计划日期</span>
                <span>
                    <div>
                        {{datas.oppDate}}
                    </div>
                </span>
            </li>
            <li>
                <span>金额</span>
                <span>
                    <div>
                        {{datas.money}}
                    </div>
                </span>
            </li>
        </ul>
        <ul class="infoList">
            <li>
                <span>客户</span>
                <div>
                    <span class="iconfont icon-enter"></span>
                    <i>{{datas.name}}</i>
                </div>
            </li>
        </ul>
        <ul class="stateList">
            <li v-for="item in items">
                <div class="left">
                    <div class="process">
                        <span>{{item.process}}</span>
                    </div>
                    <div class="state">
                        <div>
                            <p>{{item.state}}</p>
                            <p>{{item.txt}}</p>
                        </div>
                    </div>
                </div>
                <div class="right">
                    <span class="iconfont icon-enter"></span>
                </div>
            </li>
        </ul>
    </div>
</body>
<script type="text/javascript">
    var data = [
        {
            name:"张三",
            oppName:"测试",
            oppDate:"2017年09月25号",
            money:"20000.00元",
            stateInfo:[
                {
                    process:"1/3",
                    state:"阶段1（售前）",
                    txt:"收集客户信息"
                },
                {
                    process:"2/3",
                    state:"阶段2（售后）",
                    txt:"售后"
                }
            ]
        }
    ];
    var oppDetail = new Vue({
        el: '#index',
        data: {
            datas: data[0],
            items: data[0].stateInfo
        },
        methods: {
            changeOpp: function () {
                summer.openWin({
					id: 'createOpp',
					url: 'html/opportunity/createOpp.html',
					create: false,
					type: 'actionBar',
					actionBar: {
						title: "新建商机",
						titleColor: "#ffffff", //注意必须是6位数的颜色值。（3位数颜色值会不正常）
						backgroundColor: "#039be5",
						leftItem: {
							image: "img/back.png",
							method: "", //返回按钮自定义事件
							text: "取消",
							textColor: "#ffffff" //返回文字颜色，注意必须是6位数的颜色值。（3位数颜色值会不正常）
						},
						rightItems: [{
							type: "text",
							text: "提交",
							textColor: "#ffffff",
							method: "createOpp.createNewOpp()"
						}]
					}
				})
            }
        },
        computed: {

        }
    });
    summerready = function () {

    }
</script>

</html>